{% extends "base.html" %}

{% block title %}Add Customer{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">Add New Customer</h2>
                </div>
                <div class="card-body">
                    <form action="{{ url_for('add_customer') }}" method="post">
                        <div class="mb-3">
                            <label for="name" class="form-label">Customer Name</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                            <div class="form-text">Enter the full name of the customer.</div>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Add Customer</button>
                            <a href="{{ url_for('customers') }}" class="btn btn-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="card mt-4 border-warning">
                <div class="card-header bg-warning text-dark">
                    <h5 class="mb-0">Security Vulnerability Demo</h5>
                </div>
                <div class="card-body">
                    <p><strong>Stored XSS Vulnerability:</strong> This form is vulnerable to stored XSS attacks.</p>
                    <p>Try entering this as a customer name:</p>
                    <pre><code>&lt;script&gt;alert("XSS Attack!");&lt;/script&gt;</code></pre>
                    <p>The script will be stored in the database and execute whenever the customer name is displayed.</p>
                    <p>Other malicious examples:</p>
                    <ul>
                        <li><code>&lt;script&gt;document.body.style.backgroundColor = "red";&lt;/script&gt;</code></li>
                        <li><code>&lt;img src="x" onerror="alert('XSS via image error event')"&gt;</code></li>
                    </ul>
                    
                    <hr>
                    
                    <p><strong>SQL Injection Vulnerability:</strong> This form is also vulnerable to SQL injection attacks.</p>
                    <p>Try entering a customer name that includes <code>1=1</code> to see all customers:</p>
                    <pre><code>Test Customer' OR 1=1 --</code></pre>
                    <p>Or simply:</p>
                    <pre><code>1=1</code></pre>
                    <p>This will trigger a SQL injection that returns all customer records in the database.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 